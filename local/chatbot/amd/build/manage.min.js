define(["jquery"],function($){function e(){ $('a[data-action="enable"]').on("click",function(e){e.preventDefault();var t=$(this).data("name"),n=prompt("Enter credits for "+t+":","0");null!==n&&(window.location=$(this).attr("href")+"&credits="+parseInt(n,10))});$('a[data-action="addcredits"]').on("click",function(e){e.preventDefault();var t=$(this).data("name"),n=prompt("Enter credits to add for "+t+":","0");null!==n&&(window.location=$(this).attr("href")+"&credits="+parseInt(n,10))})}function t(e){var t=e.find("thead"),n=$("<tr class=\"filter-row\"></tr>");t.find("th").each(function(t){$(this).addClass("sortable"),t<4?n.append($("<th>").append($("<input>",{type:"text","data-column":t,class:"filter-input"}))):n.append($("<th>"))}),t.append(n)}function n(){var e=$("#chatbot-user-table"),t=[];e.find("input.filter-input").each(function(){t[$(this).data("column")]=$(this).val().toLowerCase()}),e.find("tbody tr").each(function(){var n=$(this).children("td"),a=!0;for(var i=0;i<t.length;i++)if(t[i]&&n.eq(i).text().toLowerCase().indexOf(t[i])===-1){a=!1;break}$(this).toggle(a)})}function a(e){var t=$("#chatbot-user-table"),a=t.find("tbody"),i=a.find("tr").toArray(),r=!t.data("sortdir")||t.data("sortcol")!==e||"desc"===t.data("sortdir");i.sort(function(t,n){var a=$(t).children("td").eq(e).text(),i=$(n).children("td").eq(e).text();return $.isNumeric(a)&&$.isNumeric(i)?(a=parseFloat(a),i=parseFloat(i)):(a=a.toLowerCase(),i=i.toLowerCase()),a<i?r?-1:1:a>i?r?1:-1:0}),$.each(i,function(e,t){a.append(t)}),t.data("sortdir",r?"asc":"desc"),t.data("sortcol",e)}function i(){var e=$("#chatbot-user-table");e.length&&(t(e),e.find("input.filter-input").on("keyup change",n),e.find("th.sortable").on("click",function(){a($(this).index())}))}function o(){var e=$("#bulk-add-button");e.length&&e.on("click",function(e){e.preventDefault(),$("#bulk-add-modal").modal("show")})}return{init:function(){e(),i(),o()}}});
